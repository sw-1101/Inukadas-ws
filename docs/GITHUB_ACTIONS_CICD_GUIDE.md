# GitHub Actions CI/CDç’°å¢ƒæ§‹ç¯‰ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€GitHub Actionsã«ã‚ˆã‚‹CI/CDï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰ç’°å¢ƒã®æ§‹ç¯‰ã¨ãƒ†ã‚¹ãƒˆæ–¹æ³•ã‚’åˆå­¦è€…å‘ã‘ã«åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã—ã¾ã™ã€‚

## ç›®æ¬¡

1. [CI/CDã¨ã¯](#cicdã¨ã¯)
2. [ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®CI/CDæ§‹æˆ](#ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®cicdæ§‹æˆ)
3. [GitHub Actionsã®è¨­å®šæ–¹æ³•](#github-actionsã®è¨­å®šæ–¹æ³•)
4. [ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°è§£èª¬](#ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°è§£èª¬)
5. [ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è¨­å®šæ–¹æ³•](#ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è¨­å®šæ–¹æ³•)
6. [CI/CDã®ãƒ†ã‚¹ãƒˆæ–¹æ³•](#cicdã®ãƒ†ã‚¹ãƒˆæ–¹æ³•)
7. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
8. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)

---

## CI/CDã¨ã¯

### CIï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- **ç›®çš„**: ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã‚’é »ç¹ã«ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã«çµ±åˆ
- **ãƒ¡ãƒªãƒƒãƒˆ**: ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã€å“è³ªå‘ä¸Šã€é–‹ç™ºåŠ¹ç‡UP

### CDï¼ˆç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰
- **ç›®çš„**: ãƒ†ã‚¹ãƒˆã‚’ãƒ‘ã‚¹ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•çš„ã«æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
- **ãƒ¡ãƒªãƒƒãƒˆ**: ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­ã®è‡ªå‹•åŒ–ã€äººçš„ãƒŸã‚¹ã®å‰Šæ¸›

### GitHub Actionsã¨ã¯
- GitHubãŒæä¾›ã™ã‚‹CI/CDãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- YAMLãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©
- ãƒ—ãƒƒã‚·ãƒ¥ã‚„ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å¥‘æ©Ÿã«è‡ªå‹•å®Ÿè¡Œ

---

## ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®CI/CDæ§‹æˆ

### ç¾åœ¨ã®æ§‹æˆæ¦‚è¦

```mermaid
graph TD
    A[ã‚³ãƒ¼ãƒ‰ãƒ—ãƒƒã‚·ãƒ¥] --> B[CI Pipeline]
    B --> C[é™çš„è§£æ]
    B --> D[å˜ä½“ãƒ†ã‚¹ãƒˆ]
    B --> E[E2Eãƒ†ã‚¹ãƒˆ]
    B --> F[ãƒ“ãƒ«ãƒ‰]
    B --> G[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³]
    
    H[ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ] --> I[PR Automation]
    I --> J[è‡ªå‹•ãƒ©ãƒ™ãƒ«ä»˜ã‘]
    I --> K[PRã‚µãƒãƒªãƒ¼ç”Ÿæˆ]
    
    L[PRãƒãƒ¼ã‚¸] --> M[ãƒ‡ãƒ—ãƒ­ã‚¤]
    M --> N[Vercelæœ¬ç•ªç’°å¢ƒ]
    M --> O[Firebase Previewç’°å¢ƒ]
```

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
.github/workflows/
â”œâ”€â”€ ci.yml                # ãƒ¡ã‚¤ãƒ³ã®CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”œâ”€â”€ preview.yml           # ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ pr-automation.yml     # PRè‡ªå‹•åŒ–
â””â”€â”€ branch-protection.yml # ãƒ–ãƒ©ãƒ³ãƒä¿è­·è¨­å®š
```

---

## GitHub Actionsã®è¨­å®šæ–¹æ³•

### 1. ãƒªãƒã‚¸ãƒˆãƒªã§ã®Actionsæœ‰åŠ¹åŒ–

1. **GitHubãƒªãƒã‚¸ãƒˆãƒªã«ã‚¢ã‚¯ã‚»ã‚¹**
2. **Settings ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯**
3. **å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã® Actions â†’ General ã‚’ã‚¯ãƒªãƒƒã‚¯**
4. **Actions permissions ã§ä»¥ä¸‹ã‚’é¸æŠ**:
   - âœ… Allow all actions and reusable workflows

### 2. å¿…è¦ãªæ¨©é™è¨­å®š

**Settings â†’ Actions â†’ General â†’ Workflow permissions:**
- âœ… Read and write permissions
- âœ… Allow GitHub Actions to create and approve pull requests

---

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°è§£èª¬

### 1. ãƒ¡ã‚¤ãƒ³CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆci.ymlï¼‰

#### ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶
```yaml
on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]
```

#### å®Ÿè¡Œã‚¸ãƒ§ãƒ–ã¨å†…å®¹

| ã‚¸ãƒ§ãƒ–å | å®Ÿè¡Œå†…å®¹ | å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|----------|----------|----------------|
| **test** | TypeScriptãƒ»ESLintãƒ»å˜ä½“ãƒ†ã‚¹ãƒˆãƒ»E2Eãƒ»ãƒ“ãƒ«ãƒ‰ | å…¨ãƒ—ãƒƒã‚·ãƒ¥ãƒ»PR |
| **require-tests-for-develop** | developå‘ã‘PRã®å¿…é ˆãƒ†ã‚¹ãƒˆ | developå‘ã‘PR |
| **require-tests-for-main** | æœ¬ç•ªå‘ã‘PRã®å¿…é ˆãƒ†ã‚¹ãƒˆ | mainå‘ã‘PR |
| **security** | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ãƒ»è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ | PRä½œæˆæ™‚ |

#### Node.jsãƒãƒˆãƒªãƒƒã‚¯ã‚¹æˆ¦ç•¥
```yaml
strategy:
  matrix:
    node-version: [18.x, 20.x]
```
è¤‡æ•°ã®Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã€äº’æ›æ€§ã‚’ç¢ºèªã€‚

### 2. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼ˆpreview.ymlï¼‰

#### ç‰¹å¾´
- **mainãƒ–ãƒ©ãƒ³ãƒ**ã¸ã®PRä½œæˆæ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- **Firebase Hosting**ã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
- **7æ—¥é–“**ã®è‡ªå‹•å‰Šé™¤æ©Ÿèƒ½
- **PRã‚³ãƒ¡ãƒ³ãƒˆ**ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLè‡ªå‹•é€šçŸ¥

#### å®Ÿè¡Œãƒ•ãƒ­ãƒ¼
```yaml
1. ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
2. Node.jsç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
3. ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
5. Firebase Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤
6. PRã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLã‚’ã‚³ãƒ¡ãƒ³ãƒˆ
```

### 3. PRè‡ªå‹•åŒ–ï¼ˆpr-automation.ymlï¼‰

#### ä¸»ãªæ©Ÿèƒ½

**è‡ªå‹•ãƒ©ãƒ™ãƒ«ä»˜ã‘**:
- ã‚¿ã‚¤ãƒˆãƒ«ãƒ™ãƒ¼ã‚¹: `feat` â†’ `âœ¨ feature`
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹: `.tsx` â†’ `âš›ï¸ react`
- ã‚µã‚¤ã‚ºãƒ™ãƒ¼ã‚¹: å¤‰æ›´é‡ã«å¿œã˜ã¦ `ğŸ“¦ size/S~XL`

**PRã‚µãƒãƒªãƒ¼ç”Ÿæˆ**:
- å¤‰æ›´çµ±è¨ˆï¼ˆè¿½åŠ ãƒ»å‰Šé™¤è¡Œæ•°ï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—åˆ¥å¤‰æ›´æ•°
- ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒã‚¤ãƒ³ãƒˆææ¡ˆ

**ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
- æ‰¿èªé€šçŸ¥ã¨ãƒãƒ¼ã‚¸ã‚¬ã‚¤ãƒ‰
- æ‰¿èªè€…ãƒªã‚¹ãƒˆè¡¨ç¤º

---

## ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®è¨­å®šæ–¹æ³•

### 1. GitHubãƒªãƒã‚¸ãƒˆãƒªã§ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆè¨­å®š

1. **ãƒªãƒã‚¸ãƒˆãƒª â†’ Settings â†’ Secrets and variables â†’ Actions**
2. **New repository secret ã‚’ã‚¯ãƒªãƒƒã‚¯**
3. **å¿…è¦ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ **

### 2. å¿…è¦ãªã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆä¸€è¦§

| ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå | ç”¨é€” | å–å¾—æ–¹æ³• |
|----------------|------|----------|
| `VITE_FIREBASE_API_KEY` | Firebaseèªè¨¼ | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `VITE_FIREBASE_AUTH_DOMAIN` | Firebaseèªè¨¼ãƒ‰ãƒ¡ã‚¤ãƒ³ | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `VITE_FIREBASE_PROJECT_ID` | Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `VITE_FIREBASE_STORAGE_BUCKET` | Firebaseã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `VITE_FIREBASE_MESSAGING_SENDER_ID` | Firebaseãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚° | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `VITE_FIREBASE_APP_ID` | Firebase ã‚¢ãƒ—ãƒªID | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |
| `FIREBASE_SERVICE_ACCOUNT` | Firebaseã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ | Firebase CLI |
| `FIREBASE_PROJECT_ID` | Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID | Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« |

### 3. Firebaseã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå–å¾—æ–¹æ³•

```bash
# Firebase CLIã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g firebase-tools

# ãƒ­ã‚°ã‚¤ãƒ³
firebase login

# ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ç”Ÿæˆ
firebase projects:list
firebase use YOUR_PROJECT_ID
```

Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ« â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š â†’ ã‚µãƒ¼ãƒ“ã‚¹ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ â†’ æ–°ã—ã„ç§˜å¯†éµã®ç”Ÿæˆ

---

## CI/CDã®ãƒ†ã‚¹ãƒˆæ–¹æ³•

### 1. åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆãƒ•ãƒ­ãƒ¼

#### Step 1: æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã§ã®ä½œæ¥­
```bash
# æ–°ã—ã„æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/new-component

# ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãƒ»å®Ÿè£…
echo "æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ" > src/components/NewComponent.jsx

# ã‚³ãƒŸãƒƒãƒˆãƒ»ãƒ—ãƒƒã‚·ãƒ¥
git add .
git commit -m "feat: add new component"
git push origin feature/new-component
```

#### Step 2: ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
1. GitHubã§ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ
2. `develop` ã¾ãŸã¯ `main` ãƒ–ãƒ©ãƒ³ãƒã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«æŒ‡å®š
3. è‡ªå‹•çš„ã«CI/CDãŒé–‹å§‹ã•ã‚Œã‚‹

#### Step 3: CI/CDã®å®Ÿè¡Œç¢ºèª
GitHubã® **Actions ã‚¿ãƒ–** ã§ä»¥ä¸‹ã‚’ç¢ºèªï¼š

âœ… **å®Ÿè¡Œã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**:
- ğŸŸ¢ æˆåŠŸï¼ˆAll checks passedï¼‰
- ğŸ”´ å¤±æ•—ï¼ˆSome checks failedï¼‰
- ğŸŸ¡ é€²è¡Œä¸­ï¼ˆIn progressï¼‰

### 2. å„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆæ–¹æ³•

#### ãƒ†ã‚¹ãƒˆ1: ãƒ¡ã‚¤ãƒ³CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
**ãƒˆãƒªã‚¬ãƒ¼**: `develop` ã¾ãŸã¯ `main` ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ãƒ»PR

**ç¢ºèªé …ç›®**:
- [ ] TypeScriptã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] ESLintã‚¨ãƒ©ãƒ¼ãªã—
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆãƒ‘ã‚¹
- [ ] E2Eãƒ†ã‚¹ãƒˆãƒ‘ã‚¹ï¼ˆPlaywrightï¼‰
- [ ] Storybookãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰æˆåŠŸ

**ãƒ†ã‚¹ãƒˆæ‰‹é †**:
```bash
# æ„å›³çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’å«ã‚€ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¦ãƒ†ã‚¹ãƒˆ
echo "const test = 'type error" > src/test-error.js
git add . && git commit -m "test: intentional error" && git push
```

#### ãƒ†ã‚¹ãƒˆ2: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
**ãƒˆãƒªã‚¬ãƒ¼**: `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®PRä½œæˆ

**ç¢ºèªé …ç›®**:
- [ ] Firebase Hostingã«ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸ
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URLãŒPRã«ã‚³ãƒ¡ãƒ³ãƒˆã•ã‚Œã‚‹
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ã‚¢ãƒ—ãƒªãŒæ­£å¸¸å‹•ä½œ
- [ ] 7æ—¥å¾Œã®è‡ªå‹•å‰Šé™¤ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

#### ãƒ†ã‚¹ãƒˆ3: PRè‡ªå‹•åŒ–
**ãƒˆãƒªã‚¬ãƒ¼**: PRä½œæˆãƒ»æ›´æ–°ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼

**ç¢ºèªé …ç›®**:
- [ ] ã‚¿ã‚¤ãƒˆãƒ«ã«åŸºã¥ãè‡ªå‹•ãƒ©ãƒ™ãƒ«ä»˜ã‘
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã«åŸºã¥ããƒ©ãƒ™ãƒ«ä»˜ã‘
- [ ] PRã‚µãƒãƒªãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
- [ ] ãƒ¬ãƒ“ãƒ¥ãƒ¼æ‰¿èªå¾Œã®ç¥ç¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### 3. æ‰‹å‹•ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰

CI/CDã§å®Ÿè¡Œã•ã‚Œã‚‹å†…å®¹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§äº‹å‰ç¢ºèªï¼š

```bash
# TypeScriptãƒã‚§ãƒƒã‚¯
npm run type-check

# ESLintãƒã‚§ãƒƒã‚¯
npm run lint

# å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm run test

# E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆè¦Playwrightç’°å¢ƒï¼‰
npm run test:e2e

# Storybookãƒ“ãƒ«ãƒ‰
npm run build-storybook

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•

#### 1. ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼ä¾‹**:
```
Error: Module not found: Can't resolve './nonexistent-file'
```

**è§£æ±ºæ–¹æ³•**:
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
npm run build

# ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install
```

#### 2. ãƒ†ã‚¹ãƒˆå¤±æ•—

**ã‚¨ãƒ©ãƒ¼ä¾‹**:
```
Tests failed: 2 failing, 5 passing
```

**è§£æ±ºæ–¹æ³•**:
```bash
# å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ
npm run test

# E2Eãƒ†ã‚¹ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿè¡Œ
npm run test:e2e
```

#### 3. ç’°å¢ƒå¤‰æ•°ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼ä¾‹**:
```
Error: Firebase API key is not defined
```

**è§£æ±ºæ–¹æ³•**:
1. GitHubãƒªãƒã‚¸ãƒˆãƒªã® Secrets è¨­å®šã‚’ç¢ºèª
2. ç’°å¢ƒå¤‰æ•°åã®ã‚¹ãƒšãƒ«ãƒŸã‚¹ã‚’ãƒã‚§ãƒƒã‚¯
3. `VITE_`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãŒä»˜ã„ã¦ã„ã‚‹ã‹ç¢ºèª

#### 4. æ¨©é™ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼ä¾‹**:
```
Error: Resource not accessible by integration
```

**è§£æ±ºæ–¹æ³•**:
1. ãƒªãƒã‚¸ãƒˆãƒª Settings â†’ Actions â†’ General
2. Workflow permissions ã‚’ "Read and write" ã«è¨­å®š
3. "Allow GitHub Actions to create and approve pull requests" ã‚’æœ‰åŠ¹åŒ–

#### 5. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼

**ã‚¨ãƒ©ãƒ¼ä¾‹**:
```
Error: Firebase project not found
```

**è§£æ±ºæ–¹æ³•**:
1. `FIREBASE_PROJECT_ID` ã®å€¤ã‚’ç¢ºèª
2. `FIREBASE_SERVICE_ACCOUNT` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Hostingæ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

#### 1. ãƒ­ã‚°ã®ç¢ºèª
```
GitHub â†’ Actions ã‚¿ãƒ– â†’ è©²å½“ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ â†’ è©³ç´°ãƒ­ã‚°è¡¨ç¤º
```

#### 2. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒãƒƒã‚°
```bash
# actï¼ˆGitHubActions ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œãƒ„ãƒ¼ãƒ«ï¼‰ä½¿ç”¨
npm install -g @github/act
act pull_request
```

#### 3. ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ç¢ºèª
å„ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒ­ã‚°ã‚’å€‹åˆ¥ã«ç¢ºèªã—ã€ã©ã“ã§å¤±æ•—ã—ãŸã‹ã‚’ç‰¹å®šã€‚

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®ãƒã‚¤ãƒ³ãƒˆ

#### åŠ¹ç‡çš„ãªã‚¸ãƒ§ãƒ–å®Ÿè¡Œ
```yaml
# ä¸¦åˆ—å®Ÿè¡Œã§ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®
jobs:
  test:
    strategy:
      matrix:
        node-version: [18.x, 20.x]
  
  security:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
```

#### æ¡ä»¶åˆ†å²ã§ç„¡é§„ãªå®Ÿè¡Œã‚’é¿ã‘ã‚‹
```yaml
# developå‘ã‘PRã®å ´åˆã®ã¿å®Ÿè¡Œ
if: github.event_name == 'pull_request' && github.base_ref == 'develop'
```

#### ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨
```yaml
- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: ${{ env.NODE_VERSION }}
    cache: 'npm'  # npm ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é«˜é€ŸåŒ–
```

### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã®é©åˆ‡ãªç®¡ç†
- âŒ ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç¦æ­¢
- âœ… GitHub Secretsä½¿ç”¨
- âœ… æœ€å°æ¨©é™ã®åŸå‰‡

#### è„†å¼±æ€§ã‚¹ã‚­ãƒ£ãƒ³ã®å®Ÿè£…
```yaml
- name: ğŸ”’ Run security audit
  run: npm audit --audit-level high
  
- name: ğŸ” Dependency vulnerability scan
  uses: actions/dependency-review-action@v4
```

### 3. ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ

#### å¤±æ•—æ™‚ã®é€šçŸ¥è¨­å®š
```yaml
- name: Notify on failure
  if: failure()
  uses: actions/github-script@v7
  with:
    script: |
      // Slackã‚„ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã®è¨­å®š
```

#### ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®ç›£è¦–
- ãƒ†ã‚¹ãƒˆæˆåŠŸç‡ã®è¿½è·¡
- ãƒ‡ãƒ—ãƒ­ã‚¤é »åº¦ã®æ¸¬å®š

### 4. ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã¨ã®é€£æº

#### Git Flow ã¨ã®çµ±åˆ
```yaml
# ãƒ–ãƒ©ãƒ³ãƒã”ã¨ã®å‹•ä½œå®šç¾©
on:
  push:
    branches: [ main ]      # æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
    branches: [ develop ]   # é–‹ç™ºç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤
  pull_request:
    branches: [ main, develop ]  # å“è³ªãƒã‚§ãƒƒã‚¯
```

---

## ã¾ã¨ã‚

ã“ã®ã‚¬ã‚¤ãƒ‰ã§å­¦ç¿’ã§ãã‚‹å†…å®¹ï¼š

### âœ… æ§‹ç¯‰æ¸ˆã¿æ©Ÿèƒ½
1. **è‡ªå‹•å“è³ªãƒã‚§ãƒƒã‚¯**: TypeScriptãƒ»ESLintãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
2. **è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤**: Vercelãƒ»Firebaseé€£æº
3. **ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒ**: PRå˜ä½ã§ã®ç’°å¢ƒä½œæˆ
4. **PRè‡ªå‹•åŒ–**: ãƒ©ãƒ™ãƒ«ä»˜ã‘ãƒ»ã‚µãƒãƒªãƒ¼ç”Ÿæˆ
5. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³**: è„†å¼±æ€§è‡ªå‹•æ¤œå‡º

### ğŸš€ ã•ã‚‰ãªã‚‹æ”¹å–„æ¡ˆ
1. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: Lighthouseã‚¹ã‚³ã‚¢æ¸¬å®š
2. **é€šçŸ¥æ©Ÿèƒ½**: Slackãƒ»Discordé€£æº
3. **ã‚«ãƒŠãƒªã‚¢ãƒ‡ãƒ—ãƒ­ã‚¤**: æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹
4. **è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯**: éšœå®³æ™‚ã®è‡ªå‹•å¾©æ—§

### ğŸ“š æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
- [Vercelãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰](./VERCEL_DEPLOYMENT_GUIDE.md) ã¨ã®é€£æºå­¦ç¿’
- ãƒ–ãƒ©ãƒ³ãƒä¿è­·ãƒ«ãƒ¼ãƒ«ã®è©³ç´°è¨­å®š
- ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ä½œæˆ

---

## é–¢é€£ãƒªãƒ³ã‚¯

- [GitHub Actionså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/actions)
- [Firebase Hosting GitHub Action](https://github.com/FirebaseExtended/action-hosting-deploy)
- [Playwright GitHub Actions](https://playwright.dev/docs/ci-github-actions)
- [Vercel GitHub Integration](https://vercel.com/docs/concepts/git/vercel-for-github)